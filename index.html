<html>

<head>
    <title>RPS</title>
</head>

<body>
    <button class="RPS" data-choice="rock">Rock</button>
    <button class="RPS" data-choice="paper">Paper</button>
    <button class="RPS" data-choice="scissors">Scissors</button>

    <script>
        //const rock = document.querySelector('#rock');
        //const paper = document.querySelector('#paper');
        //const scissors = document.querySelector('#scissors');
        let playerScore = 0;
        let computerScore = 0;
        let playerWin = false;
        let computerWin = false;
        const RPS = document.querySelectorAll(".RPS");

        RPS.forEach(function (button) {
            button.addEventListener("click", function () {
                console.log(playRound(computerPlay(), button.dataset.choice));
                showScores();
            })
        });

        function disableButtons(RPS) {
            RPS.forEach(function (button) {
                button.disabled = true;
            });
        }

        /*rock.addEventListener("click", function () {
            console.log(playRound(computerPlay(), "rock"));
            checkScores();
        });

        paper.addEventListener("click", function () {
            console.log(playRound(computerPlay(), "paper"));
            checkScores();
        });

        scissors.addEventListener("click", function () {
            console.log(playRound(computerPlay(), "scissors"));
            checkScores();
        });*/

        //function userPlay() {}

        function computerPlay() {
            const RNG = Math.floor(Math.random() * 3);

            if (RNG == 0) {
                return "rock";
            } else if (RNG == 1) {
                return "paper";
            } else {
                return "scissors";
            }
        }

        function showChoices(computerSelection, playerSelection) {
            console.log("You picked: " + playerSelection);
            console.log("CPU picked: " + computerSelection);
        }

        function checkScores() {
            if (playerScore >= 5) {
                console.log("You win!");
                playerWin = true;
            } else if (computerScore >= 5) {
                console.log("You lose.");
                computerWin = true;
            }
        }

        function showScores() {
            console.log("Player: " + playerScore);
            console.log("CPU: " + computerScore);
        }

        function playRound(computerSelection, playerSelection) {
            showChoices(computerSelection, playerSelection);

            if (computerSelection == playerSelection) {
                return "Tie! You both picked " + computerSelection + ".";
            }

            if (playerSelection == "rock") {
                if (computerSelection == "scissors") {
                    playerScore++;
                    return "You win! Rock beats scissors.";
                } else if (computerSelection == "paper") {
                    computerScore++;
                    return "You lose! Paper beats rock.";
                }
            } else if (playerSelection == "paper") {
                if (computerSelection == "rock") {
                    playerScore++;
                    return "You win! Paper beats rock."
                } else if (computerSelection == "scissors") {
                    computerScore++;
                    return "You lose! Scissors beats paper.";
                }
            } else if (playerSelection == "scissors") {
                if (computerSelection == "paper") {
                    playerScore++;
                    return "You win! Scissors beats paper.";
                } else if (computerSelection == "rock") {
                    computerScore++;
                    return "You lose! Rock beats scissors.";
                }
            } else return "You entered an invalid move."
        }

        function game() {
            console.log("First to five wins!");

            while (!checkScores()) {
                //const computerSelection = computerPlay();
                //const playerSelection = userPlay();
                //showScores();
            }
        }

        //game();
    </script>
</body>

</html>